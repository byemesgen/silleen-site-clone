import{u as b,P as A,a as I,M as k}from"./BzSiG74y.js";import{ak as C,al as V,ab as h,f as p,ah as w,am as y,i as S,o as T,w as q,R as D,h as u,U as R}from"#entry";import{a as M,u as _}from"./DWDb_XUr.js";function x(a){const{instanceId:c,viewId:e,elRef:s,mappedDisabled:t,trigger:i}=a,{selectView:o,unselectView:n,getView:g}=M(c),r=g(e),{focused:d}=C(s);function f(){!t.value&&i==="mouseenter"&&o(e)}function v(){!t.value&&i==="click"&&(r?.active?n(e):o(e))}function m(l){d.value&&!t.value&&!r?.active&&(l.preventDefault(),l.stopPropagation(),r?.active?n(e):o(e))}return{onMouseenter:f,onClick:v,onKeypress:m}}const j={__name:"MagicAccordionTrigger",props:V({viewId:{type:String,required:!1},disabled:{type:null,required:!1},trigger:{type:String,required:!1},asChild:{type:Boolean,required:!1}},{disabled:!1,trigger:"click",asChild:!1}),setup(a){const c=_({prefix:"MagicAccordion",source:"MagicAccordion"}),e=h("el"),s=w(I,void 0),t=w(k,void 0),i=p(()=>a.viewId??t);c.assert(s,{message:"MagicAccordionTrigger must be nested inside MagicAccordionProvider",errorCode:"missing_instance_id"}),c.assert(i.value,{message:"MagicAccordionTrigger must be nested inside MagicAccordionView or a viewId must be provided",errorCode:"missing_view_id"});const{initializeState:o}=b(s),n=o(),{getView:g}=M(s),r=g(i.value),d=p(()=>(R(a.disabled)||n.options.disabled)??!1),{onMouseenter:f,onClick:v,onKeypress:m}=x({elRef:e,instanceId:s,mappedDisabled:d,viewId:i.value,trigger:a.trigger});return y("Enter",m),(l,B)=>(T(),S(u(A),{ref:"el","as-child":a.asChild,"data-id":`${i.value}-trigger`,"data-disabled":d.value,as:"button",class:"magic-accordion-trigger",onMouseenter:u(f),onClick:u(v)},{default:q(()=>[D(l.$slots,"default",{viewActive:u(r)?.active})]),_:3},8,["as-child","data-id","data-disabled","onMouseenter","onClick"]))}};export{j as default};
