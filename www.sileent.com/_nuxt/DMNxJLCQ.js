import{_ as J}from"./DaGpothW.js";import{e as V,y as _,k as q,z as K,p as X,T as me,n as L,c as b,o as f,b as T,w as y,a as $,t as N,A as C,x as k,B as Y,f as D,g as E,C as H,q as Z,D as ee,i as P,d as z,h as v,m as te,E as pe,G as ve,H as fe,I as ke,F as ge,r as _e,_ as he,J as we}from"#entry";import{_ as M}from"./W_8ncDwr.js";import{_ as ne}from"./DWUvZI6Z.js";import{u as be}from"./C2M9UQFD.js";import{u as Se}from"./DJmQdW-B.js";import{a as xe,d as ye,u as $e}from"./YXzScfQM.js";import{u as Ne}from"./CXcvWuxG.js";import"./CeHTQRai.js";import"./DJ65BbbF.js";const Pe={class:"sr-only"},Te=V({__name:"WorkCard",props:{work:{},index:{}},emits:["hovering"],setup(n,{emit:t}){const e=n,i=t,m=_(null),d=_(null),p=q(),r=K(d),a=_({x:0,y:0,scale:1,width:0,height:0,visible:!0}),c=(l,u)=>({x:l.x/u.width*window.innerWidth,y:-(l.y/u.height)*window.innerHeight}),s=(l,u)=>({width:l.x/u.width*window.innerWidth,height:l.y/u.height*window.innerHeight}),o=()=>{if(!m.value)return;const u=C.getVideos()[e.index];if(!u)return;const{renderer:S}=u,h=S.mesh,g=p.$three.viewport,w=c({x:h.position.x,y:h.position.y},g),x=s({x:h.scale.x,y:h.scale.y},g);a.value.x=w.x,a.value.y=w.y,a.value.width=x.width,a.value.height=x.height,a.value.visible=h.visible,a.value.scale=1,k.set(m.value,{position:"fixed",left:"50%",top:"50%",xPercent:-50,yPercent:-50,x:a.value.x,y:a.value.y,width:`${a.value.width}px`,height:`${a.value.height}px`,visibility:a.value.visible?"visible":"hidden",pointerEvents:a.value.visible?"auto":"none",zIndex:1})};return X(()=>{me.add(o,{fps:p.$device.isMobileOrTablet?30:60})}),L(r,l=>{i("hovering",l)}),(l,u)=>{const S=J;return f(),b("div",{ref_key:"containerRef",ref:m,class:"will-change-transform bg-red/0"},[T(S,{ref_key:"target",ref:d,class:"block w-full h-full","aria-label":`${l.$t("Go to")} ${l.work.title}`,"aria-title":l.work.slug,to:`/${l.work.slug}`},{default:y(()=>[$("h2",Pe,N(l.work.title),1)]),_:1},8,["aria-label","aria-title","to"])],512)}}}),Fe=Object.assign(Te,{__name:"WorkCard"}),Ee={class:"pagination flex flex-col gap-1 items-baseline fixed top-0 left-0 md:left-auto md:right-0 mt-15 md:mt-16 ml-7.5 md:ml-0 md:mr-40vw mix-blend-difference z-2"},Ce={class:"relative min-h-4 overflow-clip"},We={key:0,class:"overflow-clip"},Ve={class:"gsap:top gsap:pages text-small pl-2"},De=V({__name:"WorkPagination",props:{activeIndex:{default:-1},total:{default:0}},setup(n){const t=n,e=Y(),i=_(t.activeIndex+1),m=D(()=>i.value.toString().padStart(3,"0")),d=D(()=>t.total.toString().padStart(3,"0"));L(()=>t.activeIndex,ee(c=>{isNaN(c)||c<0||c>=t.total||(i.value=c+1)},0),{immediate:!0});const p=c=>{k.isTweening(c)||k.set(c,{position:"absolute",top:0,left:0})},r=(c,s)=>{const o=new e(c,{type:"chars"}),l=new e(c.previousElementSibling,{type:"chars"}),u=o.chars.filter((S,h)=>l.chars[h].textContent!==S.textContent);k.from(u,{yPercent:100,stagger:.02,overwrite:!1,onComplete:()=>{k.set(c,{clearProps:"all"}),s()}})},a=(c,s)=>{Z(()=>{const o=new e(c,{type:"chars"}),l=new e(c.nextElementSibling,{type:"chars"}),u=o.chars.filter((S,h)=>l.chars[h].textContent!==S.textContent);k.to(u,{yPercent:-100,stagger:.02,onComplete:s})})};return(c,s)=>(f(),b("div",Ee,[$("div",Ce,[T(H,{css:!1,onBeforeEnter:p,onEnter:r,onLeave:a},{default:y(()=>[(f(),b("div",{key:m.value,class:"gsap:top gsap:page md:min-w-32 text-big"},N(m.value),1))]),_:1})]),c.$breakpoints.md?(f(),b("div",We,[$("div",Ve,N(d.value),1)])):E("",!0)]))}}),Le=Object.assign(De,{__name:"WorkPagination"}),Oe={class:"work-view flex flex-col gap-4 items-end fixed top-0 right-0 mt-11 md:mt-12 mr-3.5 md:mr-7 mix-blend-difference z-2"},Re=V({__name:"WorkView",props:{mode:{}},emits:["click"],setup(n){const t=_(null);return(e,i)=>{const m=M,d=ne;return f(),b("div",Oe,[$("button",{ref_key:"el",ref:t,class:"p-4 text-big md:min-w-32 text-right whitespace-nowrap",onClick:i[0]||(i[0]=p=>e.$emit("click",e.mode==="stack"?"carousel":"stack"))},[T(d,{alignment:"right"},{default:y(()=>[(f(),P(m,{key:e.mode,class:"gsap:top gsap:view"},{default:y(()=>[z(N(e.mode==="stack"?e.$t("Grid"):e.$t("List")),1)]),_:1}))]),_:1})],512)])}}}),Ae=Object.assign(Re,{__name:"WorkView"}),He={key:0,class:"relative overflow-clip"},Ie={class:"relative -top-0.02em text-big leading-[1.1]"},je=V({__name:"WorkTitles",props:{works:{},activeIndex:{default:0}},setup(n){const t=_(null),e=_(null),i=n,m=_(i.works[i.activeIndex]?.title||""),d=_(i.works[i.activeIndex]?.label||""),p=_(i.works[i.activeIndex]?.slug||""),r=s=>{k.isTweening(s)||(k.set(e.value,{height:k.getProperty(e.value,"height")}),k.set(s,{position:"absolute",top:0,left:0,yPercent:100}))},a=(s,o)=>{k.to(s,{yPercent:0,overwrite:!1,onComplete:()=>{k.set(s,{clearProps:"all"}),o()}})},c=(s,o)=>{k.to(s,{yPercent:-100,onComplete:o})};return L(()=>i.activeIndex,ee(s=>{isNaN(s)||s<0||(m.value=i.works[s]?.title||"",d.value=i.works[s]?.label||"",p.value=i.works[s]?.slug||"")},280)),(s,o)=>{const l=M,u=J;return f(),b("article",{ref_key:"el",ref:t,class:"work-title flex flex-col gap-4 items-end fixed bottom-0 right-0 mb-12.5 md:mb-16 mr-10 md:ml-0 z-14 pointer-events-none"},[s.$breakpoints.md?(f(),b("div",He,[T(H,{css:!1,onBeforeEnter:r,onEnter:a,onLeave:c},{default:y(()=>[(f(),b("div",{key:v(p),class:"gsap:tagline gsap:bottom block min-w-60 md:min-w-200 whitespace-nowrap text-right text-small uppercase"},N(v(d)||s.$t("Client")),1))]),_:1})])):E("",!0),$("div",{ref_key:"target",ref:e,class:"relative overflow-clip"},[T(H,{css:!1,onBeforeEnter:r,onEnter:a,onLeave:c},{default:y(()=>[(f(),P(u,{key:v(p),class:"gsap:title gsap:bottom block min-w-60 md:min-w-200 text-right whitespace-nowrap pointer-events-auto",to:`/${v(p)}`},{default:y(()=>[$("h2",Ie,[T(l,null,{default:y(()=>[z(N(v(m)),1)]),_:1})])]),_:1},8,["to"]))]),_:1})],512)],512)}}}),qe=Object.assign(je,{__name:"WorkTitles"}),ze={class:"gsap:content relative flex flex-col pt-11 md:pt-16 h-full w-full items-center justify-between c-white invisible opacity-0"},Me={class:"gsap:slogan text-center w-full mx-auto max-w-60 md:max-w-none text-4 md:text-6.5 leading-none font-medium uppercase"},Be={key:0},Ge={class:"gsap:title text-32vw leading-none font-medium"},Ue=V({__name:"SiteLoader",props:{resources:{}},async setup(n){let t,e;const i=_(null),m=_(!0),{$device:d}=q(),p=n,{data:r}=([t,e]=te(()=>be()),t=await t,e(),t),a=Y();Se(i,async s=>{const o=k.timeline(),{expectVideos:l,onAllVideosLoaded:u}=pe();l(p.resources);const S=a.create(".gsap\\:title",{type:"lines,chars",mask:"lines"});s.ignore(()=>{o.set("canvas",{scale:1.5}),o.set(".gsap\\:bottom",{yPercent:100}),o.set(".gsap\\:nav",{yPercent:200}),o.set(".gsap\\:top",{yPercent:-100})}),o.set(".gsap\\:content",{autoAlpha:1}),o.from(S.chars,{yPercent:100,stagger:.028,duration:1.1,ease:"power5"}),o.from(".gsap\\:slogan",{autoAlpha:0,duration:.7},.28),o.to(".gsap\\:bg",{autoAlpha:.8,duration:1,onUpdate(){s.ignore(()=>{k.set(".gsap\\:top",{yPercent:-100}),k.set(".gsap\\:bottom",{yPercent:100})})}},.8),o.to({},{duration:1}),await Promise.all([new Promise(h=>u(h)),new Promise(h=>o.then(()=>h()))]),c()});function c(){const s=ve(i.value),o=k.timeline({onComplete(){m.value=!1}});return k.context(()=>{k.killTweensOf(".gsap\\:bg");const l=k.getProperty(".gsap\\:title","height");o.to(".gsap\\:bg",{autoAlpha:0,duration:1},"+=0.4"),o.to(".gsap\\:slogan, .gsap\\:title",{y:u=>u===0?-110:l,duration:1,ease:"power5"},"<")},s),o.to("canvas",{scale:1,duration:1.4,ease:"expo2"},0),o.fromTo(".gsap\\:top",{yPercent:-100},{yPercent:0,duration:1,stagger:.1,ease:"circ2"},"<+=0.64"),o.to(".gsap\\:bottom",{yPercent:0,stagger:.04,ease:"circ2",duration:1},"<"),d.isMobile&&(o.to(".gsap\\:nav",{yPercent:0,ease:"circ2",duration:1},"<"),o.from(".gsap\\:bottom.gsap\\:title",{autoAlpha:0,duration:.4},"-=0.6")),o}return(s,o)=>{const l=M;return v(m)?(f(),b("aside",{key:0,ref_key:"el",ref:i,class:"fixed inset-0 z-99"},[o[0]||(o[0]=$("div",{class:"gsap:bg absolute inset-0 bg-black"},null,-1)),$("div",ze,[$("div",Me,[v(d).isMobile?(f(),b("span",Be,N(v(r).slogan),1)):(f(),P(l,{key:1,"auto-run":"",duration:1},{default:y(()=>[z(N(v(r).slogan),1)]),_:1}))]),$("div",Ge,N(v(r).title),1)])],512)):E("",!0)}}}),Qe=Object.assign(Ue,{__name:"SiteLoader"});var W={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WorkCard"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Work"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"documentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StrapiFile"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mobileThumbnail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StrapiFile"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoUrl"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:249}};W.loc.source={body:`#import ./StrapiFile.gql

fragment WorkCard on Work {
  documentId
  slug
  title
  label
  thumbnail {
    id
    cover {
      ...StrapiFile
    }
    videoUrl
  }
  mobileThumbnail {
    id
    cover {
      ...StrapiFile
    }
    videoUrl
  }
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var B={};function Je(n){return n.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var e=t.name.value;return B[e]?!1:(B[e]=!0,!0)})}W.definitions=W.definitions.concat(Je(xe.definitions));function R(n,t){if(n.kind==="FragmentSpread")t.add(n.name.value);else if(n.kind==="VariableDefinition"){var e=n.type;e.kind==="NamedType"&&t.add(e.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(i){R(i,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(i){R(i,t)}),n.definitions&&n.definitions.forEach(function(i){R(i,t)})}var I={};(function(){W.definitions.forEach(function(t){if(t.name){var e=new Set;R(t,e),I[t.name.value]=e}})})();function G(n,t){for(var e=0;e<n.definitions.length;e++){var i=n.definitions[e];if(i.name&&i.name.value==t)return i}}function Ke(n,t){var e={kind:n.kind,definitions:[G(n,t)]};n.hasOwnProperty("loc")&&(e.loc=n.loc);var i=I[t]||new Set,m=new Set,d=new Set;for(i.forEach(function(r){d.add(r)});d.size>0;){var p=d;d=new Set,p.forEach(function(r){if(!m.has(r)){m.add(r);var a=I[r]||new Set;a.forEach(function(c){d.add(c)})}})}return m.forEach(function(r){var a=G(n,r);a&&e.definitions.push(a)}),e}Ke(W,"WorkCard");var F={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PageHome"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"PublicationStatus"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locale"}},type:{kind:"NamedType",name:{kind:"Name",value:"I18NLocaleCode"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"content"},name:{kind:"Name",value:"pageHome"},arguments:[{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}},{kind:"Argument",name:{kind:"Name",value:"locale"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"works"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pagination"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkCard"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"seo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SEOMeta"},directives:[]}]}}]}}]}}],loc:{start:0,end:293}};F.loc.source={body:`#import ./fragments/SEOMeta.gql
#import ./fragments/WorkCard.gql

query PageHome($status: PublicationStatus, $locale: I18NLocaleCode) {
  content: pageHome(status: $status, locale: $locale) {
    works(pagination: { limit: 20 }) {
      ...WorkCard
    }
    seo {
      ...SEOMeta
    }
  }
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var U={};function ie(n){return n.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var e=t.name.value;return U[e]?!1:(U[e]=!0,!0)})}F.definitions=F.definitions.concat(ie(ye.definitions));F.definitions=F.definitions.concat(ie(W.definitions));function A(n,t){if(n.kind==="FragmentSpread")t.add(n.name.value);else if(n.kind==="VariableDefinition"){var e=n.type;e.kind==="NamedType"&&t.add(e.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(i){A(i,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(i){A(i,t)}),n.definitions&&n.definitions.forEach(function(i){A(i,t)})}var j={};(function(){F.definitions.forEach(function(t){if(t.name){var e=new Set;A(t,e),j[t.name.value]=e}})})();function Q(n,t){for(var e=0;e<n.definitions.length;e++){var i=n.definitions[e];if(i.name&&i.name.value==t)return i}}function Xe(n,t){var e={kind:n.kind,definitions:[Q(n,t)]};n.hasOwnProperty("loc")&&(e.loc=n.loc);var i=j[t]||new Set,m=new Set,d=new Set;for(i.forEach(function(r){d.add(r)});d.size>0;){var p=d;d=new Set,p.forEach(function(r){if(!m.has(r)){m.add(r);var a=j[r]||new Set;a.forEach(function(c){d.add(c)})}})}return m.forEach(function(r){var a=Q(n,r);a&&e.definitions.push(a)}),e}Xe(F,"PageHome");const Ye={class:"c-white"},Ze={key:0,class:"inline-flex w-12 justify-center text-small c-black uppercase"},et={key:1,class:"inline-flex w-12 justify-center text-small c-black uppercase"},dt=V({__name:"index",async setup(n){let t,e;const i=q(),m=fe(),d=_(null),p=_(-1),r=_(!1),a=_(null),c=K(d),s=_(!1),o=ke(s,250),l=D(()=>i.$loader.navigated.value),{content:u}=([t,e]=te(()=>$e("home",F)),t=await t,e(),t),S=D(()=>u.value.works.length),h=D(()=>u.value.works.map(({slug:g})=>g));return X(()=>{const g=m.meta.previousRoute,w=g?.params?.slug||u.value.works[0].slug;a.value=m.hash.includes("grid")?"carousel":"stack",p.value=u.value.works.findIndex(x=>x.slug===w)||0,C.init(i,u.value.works,p,a.value),C.on("index:change",x=>{(!isNaN(x)||x<0||x>=u.value.works.length)&&(p.value=x)}),Z(()=>{!g&&l.value&&a.value==="stack"?C.transitionInStack(.8):l.value&&a.value==="carousel"&&C.transitionInCarousel()}),Ne().on("logo:click",()=>{a.value="stack"})}),L(a,(g,w)=>{w&&g&&(r.value=!1,C.switchLayout(g,p.value))}),L(p,(g,w)=>{g<0||w<0||Math.abs(g-w)>1||(r.value=!0,i.$ui.expand.value&&i.$breakpoints.md&&i.$ui.toggleExpand(!1))}),(g,w)=>{const x=Fe,ae=Le,oe=Ae,se=qe,re=ne,le=he,ce=Qe;return f(),b("div",Ye,[$("div",{ref_key:"el",ref:d,class:"absolute inset-0 overflow-clip"},[(f(!0),b(ge,null,_e(v(u).works,(O,ue)=>(f(),P(x,{key:O.slug,index:ue,work:O,onHovering:w[0]||(w[0]=de=>s.value=de)},null,8,["index","work"]))),128))],512),v(p)>=0?(f(),P(ae,{key:0,"active-index":v(p),total:v(S)},null,8,["active-index","total"])):E("",!0),v(a)?(f(),P(oe,{key:1,mode:v(a),onClick:w[1]||(w[1]=O=>a.value=O)},null,8,["mode"])):E("",!0),T(se,{"active-index":v(p),works:v(u).works},null,8,["active-index","works"]),v(c)&&!g.$device.isMobile?(f(),P(le,{key:2},{default:y(()=>[(f(),P(we,{defer:"",to:"#site-cursor"},[T(re,{alignment:"center"},{default:y(()=>[v(o)&&v(r)?(f(),b("span",Ze,N(g.$t("View")),1)):(f(),b("span",et,N(g.$t("Scroll")),1))]),_:1})]))]),_:1})):E("",!0),!v(l)&&v(h).length?(f(),P(ce,{key:3,resources:v(h)},null,8,["resources"])):E("",!0)])}}});export{dt as default};
