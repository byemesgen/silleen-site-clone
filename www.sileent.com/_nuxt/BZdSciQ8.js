import{_ as K}from"./W_8ncDwr.js";import{_ as G}from"./DaGpothW.js";import{_ as T}from"./DWUvZI6Z.js";import{e as W,y,k as M,n as w,c as _,o as r,b as k,w as v,a as $,d as x,t as f,x as h,G as Q,H as J,K as X,z as Y,f as E,m as Z,p as ee,L as C,i as S,g as N,h as s,M as ne,N as ie,F as te,_ as ae,O as le,J as se}from"#entry";import{_ as oe,a as re,b as de,c as ce}from"./DtpxQSfS.js";import{d as ue,a as me,u as ke}from"./YXzScfQM.js";import"./CeHTQRai.js";import"./DZvDn7jX.js";import"./DlAUqK2U.js";import"./CNUCdfxP.js";import"./BzSiG74y.js";import"./DWDb_XUr.js";import"./DhV9hosi.js";import"./DJ65BbbF.js";import"./CSjIoYim.js";import"./DY2FObEG.js";import"./DJmQdW-B.js";const ve={class:"relative overflow-clip"},fe=W({__name:"WorkBackButton",setup(n){const e=y(null),{$ui:i}=M();return w(i.hidden,a=>{h.context(()=>{h.to(".gsap\\:back",{yPercent:a?-100:0,stagger:-1*.04,ease:"power5",duration:1}),h.set("button",{pointerEvents:a?"none":"auto"})},Q(e.value))}),(a,d)=>{const o=K,p=G,t=T;return r(),_("div",{ref_key:"el",ref:e,class:"flex flex-col gap-1 items-baseline fixed top-0 left-0 md:left-auto md:right-0 mt-11 md:mt-12 ml-3.5 md:ml-0 md:mr-40vw mix-blend-difference z-2"},[k(t,null,{default:v(()=>[k(p,{class:"block text-big p-4",to:{name:"index",hash:"#grid"}},{default:v(()=>[$("div",ve,[k(o,{class:"gsap:back"},{default:v(()=>[x(f(a.$t("All")),1)]),_:1})])]),_:1})]),_:1})],512)}}}),pe=Object.assign(fe,{__name:"WorkBackButton"});var c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SingleWork"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"PublicationStatus"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locale"}},type:{kind:"NamedType",name:{kind:"Name",value:"I18NLocaleCode"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"content"},name:{kind:"Name",value:"works"},arguments:[{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}},{kind:"Argument",name:{kind:"Name",value:"locale"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"slug"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"eq"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"awards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"credits"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"seo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SEOMeta"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StrapiFile"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tools"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StrapiFile"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoUrl"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:640}};c.loc.source={body:`#import ./fragments/SEOMeta.gql
#import ./fragments/StrapiFile.gql

query SingleWork($status: PublicationStatus, $locale: I18NLocaleCode, $slug: String!) {
  content: works(status: $status, locale: $locale, filters: { slug: { eq: $slug } }) {
    awards {
      title
      subtitle
    }
    credits {
      title
      subtitle
    }
    description
    label
    seo {
      ...SEOMeta
    }
    slug
    title
    thumbnail {
      id
      cover {
        ...StrapiFile
      }
      videoUrl
    }
    tools {
      title
      subtitle
    }
    video {
      id
      cover {
        ...StrapiFile
      }
      videoUrl
    }
  }
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var B={};function P(n){return n.filter(function(e){if(e.kind!=="FragmentDefinition")return!0;var i=e.name.value;return B[i]?!1:(B[i]=!0,!0)})}c.definitions=c.definitions.concat(P(ue.definitions));c.definitions=c.definitions.concat(P(me.definitions));function b(n,e){if(n.kind==="FragmentSpread")e.add(n.name.value);else if(n.kind==="VariableDefinition"){var i=n.type;i.kind==="NamedType"&&e.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(a){b(a,e)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(a){b(a,e)}),n.definitions&&n.definitions.forEach(function(a){b(a,e)})}var V={};(function(){c.definitions.forEach(function(e){if(e.name){var i=new Set;b(e,i),V[e.name.value]=i}})})();function D(n,e){for(var i=0;i<n.definitions.length;i++){var a=n.definitions[i];if(a.name&&a.name.value==e)return a}}function _e(n,e){var i={kind:n.kind,definitions:[D(n,e)]};n.hasOwnProperty("loc")&&(i.loc=n.loc);var a=V[e]||new Set,d=new Set,o=new Set;for(a.forEach(function(t){o.add(t)});o.size>0;){var p=o;o=new Set,p.forEach(function(t){if(!d.has(t)){d.add(t);var u=V[t]||new Set;u.forEach(function(F){o.add(F)})}})}return d.forEach(function(t){var u=D(n,t);u&&i.definitions.push(u)}),i}_e(c,"SingleWork");const ge=le(ce),Se={class:"relative w-full h-svh c-white"},Ne={class:"sr-only"},be={key:0,class:"inline-flex w-12 justify-center text-small c-black uppercase"},Fe={key:1,class:"inline-flex w-12 justify-center text-small c-black uppercase"},Re=W({__name:"[slug]",async setup(n){let e,i;const d=J().params.slug,o=M(),{escape:p}=X(),t=y(!1),u=y(null),F=Y(u),q=E(()=>`work-${d}`),{content:m}=([e,i]=Z(()=>ke(q,c,{slug:d})),e=await e,i(),e),O=E(()=>m.value?.video&&m.value.video.videoUrl);return ee(()=>{C.init(o,m.value)}),w(t,l=>{C.switchVideo(l)}),w(p,l=>{!l||!t.value||!O.value||(t.value=!1)}),(l,g)=>{const j=pe,R=oe,A=re,L=T,U=ae,z=ge,H=de;return r(),_("article",Se,[k(j),k(R,null,{tagline:v(()=>[x(f(s(m).label||l.$t("Client")),1)]),default:v(()=>[x(f(s(m).title),1)]),_:1}),s(m).description?(r(),S(A,ne(ie({key:0},s(m))),null,16)):N("",!0),s(O)?(r(),_(te,{key:1},[$("button",{ref_key:"target",ref:u,class:"absolute inset-0",onClick:g[0]||(g[0]=I=>t.value=!s(t))},[$("span",Ne,f(s(t)?l.$t("Back"):l.$t("Play")),1),s(F)&&!l.$device.isMobile?(r(),S(U,{key:0},{default:v(()=>[(r(),S(se,{defer:"",to:"#site-cursor"},[k(L,{alignment:"center"},{default:v(()=>[s(t)?(r(),_("span",be,f(l.$t("Back")),1)):(r(),_("span",Fe,f(l.$t("Play")),1))]),_:1})]))]),_:1})):N("",!0)],512),k(z,{"video-id":`the-${s(d)}`},null,8,["video-id"]),l.$device.isMobile?(r(),S(H,{key:0,onClick:g[1]||(g[1]=I=>t.value=!1)})):N("",!0)],64)):N("",!0)])}}});export{Re as default};
